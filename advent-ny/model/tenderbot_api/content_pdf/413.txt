7. Описание сервиса загрузки исполнении из системы учета.docx

1.	Описание сервиса
В руководстве предоставлена информация о сервисе по получению сведений о контрактах из личного кабинета и по передаче сведений по исполнению из системы учета поставщика на Портал поставщиков. Сервис состоит из нескольких частей: выгрузка информации по контрактам с Портала поставщиков и загрузка исполнений, сформированных в системе учета поставщика на Портал поставщиков.
2.	Последовательность действий для передачи сведений об исполнении из внешней системы учета на Портал поставщиков
Процесс и последовательность интеграционного взаимодействия представлена на Рисунке 1 и состоит из шагов:
1)	Запрос списка контрактов поставщика из личного кабинета
2)	Запрос сведений по контракту с указанием его идентификатора
3)	Формирование документа электронного исполнения на стороне системы учета поставщика и передача на Портал поставщиков
4)	Проверка корректности переданных сведений и публикация документа электронного исполнения
 
Рисунок 1 – Описание интеграционного взаимодействия
2.1.	 Запрос списка контрактов поставщика из личного кабинета
Сервис позволяет через публичное API выгрузить актуальную информацию по списку контрактов компании поставщика.
В качестве дополнительных параметров могут быть переданы фильтры для запроса уточненного списка контрактов. 
Получение списка контрактов осуществляется с использованием команды, с которой можно ознакомиться по ссылке: https://api.zakupki.mos.ru/ выбрав версию V2 в блоке /api/v2/contract/public/Search
Допускается использование фильтров для получения уточненного списка контрактов поставщика по следующим критериям:
•	статус контракта;
•	ИНН заказчика (или наименование);
•	основание заключение контракта;
•	сумма контракта;
•	номер контракта.
Подробное описание фильтров можно посмотреть по ссылке https://api.zakupki.mos.ru/ 
выбрав версию V2 в блоке Models в разделе: Pp3.Integration.Shared.Contracts.Queries.V2.Public.SearchQuery
В ответ будет возвращен список контрактов, соответствующий условиям запроса с краткой информацией по каждому контракту:
•	реестровый номер и номер контракта;
•	информация о заказчике и поставщике;
•	предмет контракта и сумму контракта;
•	информация по основанию заключения контракта.
Запрос детальной информации по конкретному контракту выполняется отдельным запросом.
2.2.	 Запрос сведений по контракту с указанием его идентификатора
Метод позволяет получить подробную информацию по ID контракта для последующего формирования исполнения во внешней системе учета поставщика.
С описанием структуры команды можно ознакомиться в документации: https://api.zakupki.mos.ru/ выбрав версию V2 в блоке /api/v2/contract/public/Get
Ответ содержит следующие данные:
•	общие сведения по контракту (тип, статус, предмет, сумма и т. д.);
•	информацию по заказчику и поставщику;
•	информацию по типу закупки;
•	информацию по спецификации;
•	информацию по этапам поставки;
•	перечень исполнений контракта, если такие есть.